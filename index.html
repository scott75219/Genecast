<!DOCTYPE html>
<html>
  <head>
    <title>HIVE Reconnoiter</title>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<link rel="stylesheet" href="resources/styles/jquery.mobile-1.3.2.min.css" />
	<link rel="stylesheet" href="resources/styles/jquery.freezeheader.css" />
	<link rel="stylesheet" href="resources/styles/master-styles.css" />
	<link rel="stylesheet" href="resources/styles/responsive-tables.css">

	<script type="text/javascript" charset="utf-8" src="resources/js/jquery-1.8.2.min.js"></script>
	<script type="text/javascript" charset="utf-8" src="resources/js/jquery.mobile-1.3.2.min.js"></script>
	<script type="text/javascript" charset="utf-8" src="resources/js/d3.min.js"></script>
	<script src="text/javascript" href="resources/js/responsive-tables.js"</script>
	<!--<script type="text/javascript" charset="utf-8" src="resources/js/underscore-min.js"></script>-->
	<!--<script type="text/javascript" charset="utf-8" src="resources/js/backbone-min.js"></script>-->
	<script type="text/javascript" charset="utf-8" src="resources/js/json2.js"></script>
	<script type="text/javascript" charset="utf-8" src="resources/js/jquery.freezeheader.js"></script>

  	<script type="text/javascript" charset="utf-8" src="cordova.js"></script>
  	<script type="text/javascript" charset="utf-8" src="crosscancer.js"></script>
  	<!--<script type="text/javascript" charset="utf-8" src="crosscancer_2.js"></script>-->
  	<script type="text/javascript" charset="utf-8" src="chooseGene.js"></script>
    <script type="text/javascript" charset="utf-8" src="queryCBio.js"></script>
    <script type="text/javascript" charset="utf-8" src="home.js"></script>

  </head>
  <body onload="onLoad()">
  	<!--  FOR NOW SKIP MULTI-APP HOMEPAGE... GO DIRECTLY TO GeneCast Biomuta
  	<div id="home" data-role="page">
  		<div data-role="header">
	  		<img src="resources/icons/hive_logo.png" width="109" height="35" id="hivelogo-backbtn"/>
			<span id="screen-title">HIVE Reconnoiter</span>
  		</div>
  		<div data-role="content">
			<a href="#biomuta"><img src="resources/images/reconnoiter-button.png" class="homemenu-buttons" id="reconnoiter-button"/></a>
			<a href="#pubcast"><img src="resources/images/pubcast-button.png" class="homemenu-buttons" id="pubcast-button"/></a>
		</div>
  	</div> <!-- div home page -->
  	
		<div id="biomuta" data-role="page">
			<div data-role="header" data-theme="c"> 
				<div>
					<img src="resources/icons/hive_logo.png" width="100px" height="30px" id="hivelogo-backbtn" class="ui-btn-left" style="margin-left: -25px !important;"/>
				</div>				
					<h1>HIVE Genecast</h1>

				<div data-role="navbar">
					<ul>
						<li><a href="#biomuta" class="ui-btn-active ui-state-persist" data-role="tab" data-prefetch>BioMuta</a></li>
						<li><a href="#bioexpress" data-role="tab"  data-prefetch>BioExpress</a></li>
					</ul>
				</div><!-- navbar -->
			</div> <!-- header -->
		
			<div data-role="content">
				<div id="controls">
					<h2>View mutation profile of your gene</h2>
					<p>Enter a valid HGNC gene symbol: </p>
					<table style="width:100%">
						<tr>
							<td>
								<input class="defaultText geneInputBtn"  type="text" title="MUC16" maxlength="12" id="txt_biomuta"/>
							</td>
							<td	style='width:80em'>
								<a href="#" data-role="button" data-inline="true" id="btn_biomuta_sbt">Submit</a>
							</td>
						</tr>
					</table>
					<div id="debug-area"  style="color: red;">
						<!--<p>Note!! Using preloaded static demo data. Only genes related Breast invasive carninoma are loaded until API is available! (ie, STRA6, BRCA1, PROP1) </p>-->
					</div>
					<div style="clear: both;"><p style="font-size: 0.65em; color: #6c6c6c;">Tip: Rotate screen horizontally for best viewing.</p></div>
				</div> <!-- content -->
				
				<div id="biomuta-results" style="display: none;">
					<hr style="width.result: 90%;"/>
					

					<div id="results-msg">	
						
					</div>
					<table id="biomuta-header-table" class="ui-table ui-responsive table-stroke table-stripe">
						<tbody>
						</tbody>
					</table>
					<table id="biomuta-table" class="ui-table ui-responsive table-stroke table-stripe responsive">
						<thead>
							<tr>
								<th scope="col"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="70"><text id="thetext" transform="rotate(270, 12, 0) translate(-55,0)">Pos(A)</text></svg></th>
								<th scope="col"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="70"><text id="thetext" transform="rotate(270, 12, 0) translate(-55,0)">Ref(A)</text></svg></th>
								<th scope="col"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="70"><text id="thetext" transform="rotate(270, 12, 0) translate(-55,0)">Var(A)</text></svg></th>
								<th scope="col"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="70"><text id="thetext" transform="rotate(270, 12, 0) translate(-55,0)">PolyPhen</text></svg></th>
								<th scope="col" style="vertical-align: bottom;">PMID</th>
								<th scope="col" style="vertical-align: bottom;">Cancer</th>
								<th scope="col" style="vertical-align: bottom;">Source</th>
							</tr>
						</thead>
						<tbody> </tbody>
					</table><!-- table -->
					<div id="div_loadmore"><a data-role="button" id="btn_biomuta_loadmore">Load more results</a></div>
				</div>
			</div> <!-- content -->
	</div>

	<!-- Detail Page of BioMuta Gene's Selected Row -->
	<div id="biomuta-detail" data-role="page" data-dialog="true">
			<div data-role="header" data-theme="c"> 
				<div>
					<img src="resources/icons/hive_logo.png" width="100px" height="30px" id="hivelogo-backbtn" class="ui-btn-left" style="margin-left: -25px !important;"/>
				</div>				
					<h1>HIVE Genecast</h1>

				<div data-role="navbar">
					<ul>
						<li><a href="#biomuta" class="ui-btn-active ui-state-persist" data-role="tab" data-prefetch>BioMuta</a></li>
						<li><a href="#bioexpress" data-role="tab"  data-prefetch>BioExpress</a></li>
					</ul>
				</div><!-- navbar -->
			</div> <!-- header -->

		<div class="ui-content" role="main">
			<h2>Details</h2>
			<table id="biomuta-detail-table" class="ui-table ui-responsive table-stroke table-stripe responsive">
				<tbody>
				</tbody>
			</table>			
		</div> <!-- content -->
	</div> <!-- biomuta-detail dialog page -->
	
	
	<div id="bioexpress" data-role="page">
			<div data-role="header" data-theme="c"> 
				<div>
					<img src="resources/icons/hive_logo.png" width="100px" height="30px" id="hivelogo-backbtn" class="ui-btn-left" style="margin-left: -25px !important;"/>
				</div>				
				<h1>HIVE Genecast</h1>
				<div data-role="navbar">
					<ul>
						<li><a href="#biomuta" data-role="tab" data-prefetch>BioMuta</a></li>
						<li><a href="#bioexpress" class="ui-btn-active" data-role="tab"  data-prefetch>BioExpress</a></li>
					</ul>
				</div><!-- navbar -->
			</div> <!-- header -->
		
		<div data-role="content">
			BioExpress is Under Construction.
		</div><!-- content BioExpress -->		
	</div> <!-- page BioExpress -->
	
			
	<div id="cbioportal" data-role="page">
  		<div data-role="header" data-position="fixed">
	  		<img src="resources/icons/hive_logo-backbutton.png" width="109" height="35" id="hivelogo-backbtn"/>
			<span id="screen-title">HIVE Genecast</span>
			<div data-role="navbar">
				<ul>
					<li><a href="#biomuta" data-role="tab" data-prefetch>BioMuta</a></li>
					<!--<li><a href="#cbioportal" data-role="tab" data-prefetch>cBioPortal</a></li>-->
					<li><a href="#nci-60" data-role="tab" data-prefetch>BioExpress</a></li>
				</ul>
			</div><!-- navbar -->
		</div> <!-- header -->
  		
  		<div data-role="content">
	  		<form class="form-vertical" id="form_gene_set" class="gene_set">
	  			<h2>Cross-cancer Mutation Data</h2>
				<select name="select_gene_set" id="select_gene_set" tabindex="1">
					<option>Select HUGO Gene Symbol</option>
				</select>
				<span>
					<!-- For now only allow one gene for operation. Therefore, this textarea is disabled. -->
					<textarea name="textarea_gene_set" id="textarea_gene_set" readonly style="display: none;"> </textarea>	
					<!--<button type="button" id="btn_gene_set_add" >Add</button>--> 
	  				<a data-role="button" class="reconnoiter-screen-btn" id="btn_gene_set_rst">Reset</a>
	  				<a data-role="button" data-inline="true" class="reconnoiter-screen-btn" id="btn_gene_set_sbt">Submit</a>
  				</span>
  				
  				<div style="clear: both;"><p style="font-size: 0.65em; color: #6c6c6c;">Tip: Rotate screen horizontally for best viewing.</p></div>
  			</form>
		  	
		  	<div id="resultsArea" style="clear: both; padding-top: 10px;">
		  		<hr style="width: 90%;"/>
		  		<div id="crosscancer-container" style="display: none;"> 
		  			<div class="section" id="cc-overview">

					<div id="cctitlecontainer"> </div>
						<div id="cchistogram">Loading...</div>
						
						<div id="studies-with-no-data"> </div>
					</div>
        		</div>
		  	
		  	</div>
		  	
		  </div> <!-- div content -->
	</div> <!-- page cbioportal -->
	

	
<!-- Template-->
<script id="cross-cancer-main-tmpl" type="text/template">
    <div id="tabs">
        <ul>
            <li>
                <a href="#cc-overview" id="cc-overview-link" title="Compact visualization of genomic alterations">Overview</a>
            </li>
            <li>
                <a href="#cc-mutations" id="cc-mutations-link" title="Mutation details, including mutation type,amino acid change, validation status and predicted functional consequence">Mutations</a>
            </li>
            <li>
                <a href="#cc-download" id="cc-download-link" title="Download all alterations or copy and paste into Excel">Download</a>
            </li>
            <li>
                <a href='#cc-bookmark' class='result-tab' title="Bookmark or generate a URL for email">
                    Bookmark
                </a>
            </li>
        </ul>
        <div class="section" id="cc-overview">

            <div id="cctitlecontainer"></div>

            <div id="customize-controls" class="ui-widget cc-hide">
                <div class="close-customize">
                    <a href="#">&amp;times;</a>
                </div>
                <h3>Customize histogram</h3>
                <table>
                    <tr>
                        <td>
                            <span id="no-alterations-control">
                                <input type="checkbox" id="histogram-remove-notaltered">
                                <label for="histogram-remove-notaltered">Hide studies with no alteration</label>
                            </span>
                        </td>
                        <td>
                            <span id="no-colors-control">
                                <input type="checkbox" id="histogram-show-colors" checked>
                                <label for="histogram-show-colors">Show alteration types</label>
                            </span>
                        </td>
                        <td>
                            <span id="sort-by-control">
                                Sort by:
                                <select id="histogram-sort-by">
                                    <option value="alteration">Alteration frequency</option>
                                    <option value="name">Cancer study name</option>
                                </select>
                            </span>
                        </td>
                    </tr>
                    <tr>
                        <td colspan="3">
                            <div id="show-hide-studies">
                                <span class="triangle ui-icon ui-icon-triangle-1-e cc-triangle"></span>
                                <span class="triangle ui-icon ui-icon-triangle-1-s cc-triangle cc-hide"></span>
                                <b id="show-hide-studies-toggle">Select studies</b>
                                <br/>
                            </div>
                            <div id="cancerbycancer-controls" class="cc-hide">
                                (Select <a href="#" id="cc-select-all">all</a> / <a href="#" id="cc-select-none">none</a>)
                                <br>
                                <br>
                            </div>
                        </td>
                    </tr>
                </table>
            </div>

            <div id="cchistogram">
                <img src="images/ajax-loader.gif"/>
            </div>

            <div id="studies-with-no-data">
            </div>
        </div>

        <div class="section" id="cc-mutations">
            <div id="mutation_details" class="mutation-details-content">
                <img src="images/ajax-loader.gif"/>
            </div>
        </div>

        <div class="section" id="cc-download">
            <div class='copy_tables'>
                <br>
                <h4>Contents can be copied and pasted into Excel.</h4>
                <p>Frequency of Alteration Across Studies:<p/>
                <textarea rows="30" cols="40" id="cc-download-text">
                </textarea>
            </div>
        </div>

        <div class="section" id="cc-bookmark">
            <h4>Right click</b> on the link below to bookmark your results or send by email:</h4>
            <br/>
            <a href="http://www.cbioportal.org/public-portal/cross_cancer.do?tab_index=tab_visualize&amp;cancer_study_id=all&amp;gene_list={{genes}}&amp;data_priority={{priority}}&amp;Action=Submit">
                http://www.cbioportal.org/public-portal/cross_cancer.do?...
            </a>
            <br/>
            <br/>

            If you would like to use a <b>shorter URL that will not break in email postings</b>, you can use the<br><a href='https://bitly.com/'>bitly.com</a> service below:<BR>
            <BR><form><input type="button" onClick="bitlyURL('http://www.cbioportal.org/public-portal/cross_cancer.do?tab_index=tab_visualize&amp;cancer_study_id=all&amp;gene_list={{genes}}&amp;data_priority={{priority}}&amp;Action=Submit', 'cbioportal', 'R_b5b17a43582f526e592e05257b43718b')" value="Shorten URL"></form>
            <div id='bitly'></div>
        </div>

    </div>
</script>	

<br />
  </body>
  	
</html>

